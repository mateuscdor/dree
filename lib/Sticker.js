const _0x2b0842=_0x4d3d;(function(_0xcccca9,_0x388d43){const _0x4b1fd0=_0x4d3d,_0x3fa157=_0xcccca9();while(!![]){try{const _0x513325=parseInt(_0x4b1fd0(0x18c))/0x1+-parseInt(_0x4b1fd0(0x19f))/0x2+-parseInt(_0x4b1fd0(0x195))/0x3+parseInt(_0x4b1fd0(0x1ac))/0x4+parseInt(_0x4b1fd0(0x185))/0x5*(-parseInt(_0x4b1fd0(0x193))/0x6)+-parseInt(_0x4b1fd0(0x191))/0x7*(-parseInt(_0x4b1fd0(0x1a4))/0x8)+-parseInt(_0x4b1fd0(0x19e))/0x9*(parseInt(_0x4b1fd0(0x194))/0xa);if(_0x513325===_0x388d43)break;else _0x3fa157['push'](_0x3fa157['shift']());}catch(_0x473801){_0x3fa157['push'](_0x3fa157['shift']());}}}(_0x2f28,0x935aa));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x2b0842(0x192)),ff=require('fluent-ffmpeg'),webp=require(_0x2b0842(0x1ad)),path=require('path');function _0x4d3d(_0x313088,_0x55c46e){const _0x2f2876=_0x2f28();return _0x4d3d=function(_0x4d3d58,_0x17bf07){_0x4d3d58=_0x4d3d58-0x180;let _0x4d234f=_0x2f2876[_0x4d3d58];return _0x4d234f;},_0x4d3d(_0x313088,_0x55c46e);}async function imageToWebp(_0x40321e){const _0x2fd602=_0x2b0842,_0x711f63=path[_0x2fd602(0x19c)](__dirname,_0x2fd602(0x183)+Crypto['randomBytes'](0x6)[_0x2fd602(0x18e)](0x0,0x6)[_0x2fd602(0x18d)](0x24)+'.webp'),_0x630ed0=path[_0x2fd602(0x19c)](__dirname,_0x2fd602(0x183)+Crypto[_0x2fd602(0x1a3)](0x6)[_0x2fd602(0x18e)](0x0,0x6)[_0x2fd602(0x18d)](0x24)+'.jpg');fs[_0x2fd602(0x1a6)](_0x630ed0,_0x40321e),await new Promise((_0x86df2a,_0x24f48c)=>{const _0x1e8022=_0x2fd602;ff(_0x630ed0)['on'](_0x1e8022(0x1a2),_0x24f48c)['on'](_0x1e8022(0x1a9),()=>_0x86df2a(!![]))[_0x1e8022(0x1ae)](['-vcodec',_0x1e8022(0x196),'-vf',_0x1e8022(0x1a8)])['toFormat'](_0x1e8022(0x197))[_0x1e8022(0x190)](_0x711f63);});const _0x500430=fs[_0x2fd602(0x18b)](_0x711f63);return fs[_0x2fd602(0x1aa)](_0x711f63),fs[_0x2fd602(0x1aa)](_0x630ed0),_0x500430;}async function videoToWebp(_0x533dbf){const _0x1b35f1=_0x2b0842,_0x3900bc=path[_0x1b35f1(0x19c)](tmpdir(),Crypto[_0x1b35f1(0x1a3)](0x6)['readUIntLE'](0x0,0x6)[_0x1b35f1(0x18d)](0x24)+_0x1b35f1(0x180)),_0x4ef959=path[_0x1b35f1(0x19c)](tmpdir(),Crypto[_0x1b35f1(0x1a3)](0x6)[_0x1b35f1(0x18e)](0x0,0x6)['toString'](0x24)+_0x1b35f1(0x18a));fs[_0x1b35f1(0x1a6)](_0x4ef959,_0x533dbf),await new Promise((_0x304b38,_0x4bb6be)=>{const _0xefe68c=_0x1b35f1;ff(_0x4ef959)['on'](_0xefe68c(0x1a2),_0x4bb6be)['on'](_0xefe68c(0x1a9),()=>_0x304b38(!![]))[_0xefe68c(0x1ae)]([_0xefe68c(0x187),_0xefe68c(0x196),_0xefe68c(0x181),'scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512'])[_0xefe68c(0x19b)](_0xefe68c(0x197))[_0xefe68c(0x190)](_0x3900bc);});const _0x1d1e19=fs[_0x1b35f1(0x18b)](_0x3900bc);return fs['unlinkSync'](_0x3900bc),fs[_0x1b35f1(0x1aa)](_0x4ef959),_0x1d1e19;}async function writeExifImg(_0x31dffa,_0x17495e){const _0x5db74f=_0x2b0842;let _0x41f71c=await imageToWebp(_0x31dffa);const _0x4ebeda=path[_0x5db74f(0x19c)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x5db74f(0x18d)](0x24)+_0x5db74f(0x180)),_0x17dffd=path[_0x5db74f(0x19c)](tmpdir(),Crypto[_0x5db74f(0x1a3)](0x6)[_0x5db74f(0x18e)](0x0,0x6)['toString'](0x24)+_0x5db74f(0x180));fs[_0x5db74f(0x1a6)](_0x4ebeda,_0x41f71c);if(_0x17495e[_0x5db74f(0x1a7)]||_0x17495e[_0x5db74f(0x199)]){const _0x3f3618=new webp[(_0x5db74f(0x188))](),_0x5715fc={'sticker-pack-id':_0x5db74f(0x184),'sticker-pack-name':_0x17495e['packname'],'sticker-pack-publisher':_0x17495e['author'],'emojis':_0x17495e[_0x5db74f(0x198)]?_0x17495e[_0x5db74f(0x198)]:['']},_0x281cc3=Buffer[_0x5db74f(0x19a)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x34b951=Buffer['from'](JSON[_0x5db74f(0x186)](_0x5715fc),_0x5db74f(0x1af)),_0x4592a5=Buffer[_0x5db74f(0x1a1)]([_0x281cc3,_0x34b951]);return _0x4592a5[_0x5db74f(0x189)](_0x34b951[_0x5db74f(0x18f)],0xe,0x4),await _0x3f3618['load'](_0x4ebeda),fs[_0x5db74f(0x1aa)](_0x4ebeda),_0x3f3618[_0x5db74f(0x1a0)]=_0x4592a5,await _0x3f3618['save'](_0x17dffd),_0x17dffd;}}async function writeExifVid(_0x2dedc7,_0x218dc7){const _0x2601c1=_0x2b0842;let _0x239bf2=await videoToWebp(_0x2dedc7);const _0x430d73=path['join'](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x2601c1(0x18d)](0x24)+_0x2601c1(0x180)),_0x204212=path[_0x2601c1(0x19c)](tmpdir(),Crypto[_0x2601c1(0x1a3)](0x6)[_0x2601c1(0x18e)](0x0,0x6)['toString'](0x24)+_0x2601c1(0x180));fs['writeFileSync'](_0x430d73,_0x239bf2);if(_0x218dc7[_0x2601c1(0x1a7)]||_0x218dc7['author']){const _0x108942=new webp[(_0x2601c1(0x188))](),_0x1f9665={'sticker-pack-id':_0x2601c1(0x184),'sticker-pack-name':_0x218dc7[_0x2601c1(0x1a7)],'sticker-pack-publisher':_0x218dc7[_0x2601c1(0x199)],'emojis':_0x218dc7[_0x2601c1(0x198)]?_0x218dc7[_0x2601c1(0x198)]:['']},_0x379dfd=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x362d2e=Buffer['from'](JSON[_0x2601c1(0x186)](_0x1f9665),_0x2601c1(0x1af)),_0x31c985=Buffer['concat']([_0x379dfd,_0x362d2e]);return _0x31c985[_0x2601c1(0x189)](_0x362d2e[_0x2601c1(0x18f)],0xe,0x4),await _0x108942['load'](_0x430d73),fs[_0x2601c1(0x1aa)](_0x430d73),_0x108942[_0x2601c1(0x1a0)]=_0x31c985,await _0x108942[_0x2601c1(0x190)](_0x204212),_0x204212;}}async function writeExif(_0x2da6b9,_0x4cf14a){const _0x2ce11e=_0x2b0842;let _0x3ffbd1=/webp/[_0x2ce11e(0x182)](_0x2da6b9[_0x2ce11e(0x19d)])?_0x2da6b9[_0x2ce11e(0x1ab)]:/image/[_0x2ce11e(0x182)](_0x2da6b9[_0x2ce11e(0x19d)])?await imageToWebp(_0x2da6b9['data']):/video/[_0x2ce11e(0x182)](_0x2da6b9['mimetype'])?await videoToWebp(_0x2da6b9[_0x2ce11e(0x1ab)]):'';const _0x836c4e=path[_0x2ce11e(0x19c)](tmpdir(),Crypto[_0x2ce11e(0x1a3)](0x6)['readUIntLE'](0x0,0x6)[_0x2ce11e(0x18d)](0x24)+_0x2ce11e(0x180)),_0x1d1ac0=path[_0x2ce11e(0x19c)](tmpdir(),Crypto[_0x2ce11e(0x1a3)](0x6)[_0x2ce11e(0x18e)](0x0,0x6)['toString'](0x24)+_0x2ce11e(0x180));fs[_0x2ce11e(0x1a6)](_0x836c4e,_0x3ffbd1);if(_0x4cf14a[_0x2ce11e(0x1a7)]||_0x4cf14a[_0x2ce11e(0x199)]){const _0x37fd2b=new webp[(_0x2ce11e(0x188))](),_0x3400b3={'sticker-pack-id':_0x2ce11e(0x184),'sticker-pack-name':_0x4cf14a[_0x2ce11e(0x1a7)],'sticker-pack-publisher':_0x4cf14a[_0x2ce11e(0x199)],'emojis':_0x4cf14a[_0x2ce11e(0x198)]?_0x4cf14a[_0x2ce11e(0x198)]:['']},_0x293319=Buffer[_0x2ce11e(0x19a)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x31a509=Buffer['from'](JSON['stringify'](_0x3400b3),'utf-8'),_0x2ba070=Buffer[_0x2ce11e(0x1a1)]([_0x293319,_0x31a509]);return _0x2ba070[_0x2ce11e(0x189)](_0x31a509[_0x2ce11e(0x18f)],0xe,0x4),await _0x37fd2b['load'](_0x836c4e),fs[_0x2ce11e(0x1aa)](_0x836c4e),_0x37fd2b[_0x2ce11e(0x1a0)]=_0x2ba070,await _0x37fd2b['save'](_0x1d1ac0),_0x1d1ac0;}}module[_0x2b0842(0x1a5)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};function _0x2f28(){const _0x2fe121=['650135lnJuaf','stringify','-vcodec','Image','writeUIntLE','.mp4','readFileSync','265727TcYlgd','toString','readUIntLE','length','save','77014hFQgRA','crypto','12kaEruc','24770oWChjl','3470919APftPR','libwebp','webp','categories','author','from','toFormat','join','mimetype','63csRyXd','550230QFpKYN','exif','concat','error','randomBytes','752loMFGc','exports','writeFileSync','packname','scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512','end','unlinkSync','data','4052512pnkMVL','node-webpmux','addOutputOptions','utf-8','.webp','-vf','test','../temp/','https://AiDarkEzio.github.io'];_0x2f28=function(){return _0x2fe121;};return _0x2f28();}
